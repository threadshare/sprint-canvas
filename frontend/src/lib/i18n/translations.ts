// Translation system for bilingual support (Chinese/English)

export const translations = {
  zh: {
    // Common
    common: {
      save: '保存',
      cancel: '取消',
      confirm: '确认',
      edit: '编辑',
      delete: '删除',
      add: '添加',
      next: '下一步',
      previous: '上一步',
      loading: '加载中...',
      error: '错误',
      success: '成功',
      close: '关闭',
    },
    
    // Room
    room: {
      title: 'Foundation Sprint',
      subtitle: '10小时找到基础共识',
      createRoom: '创建房间',
      joinRoom: '加入房间',
      roomName: '房间名称',
      userName: '您的名字',
      roomCode: '房间代码',
      creating: '创建中...',
      joining: '加入中...',
      leaveRoom: '离开房间',
      participants: '参与者',
      connected: '已连接',
      disconnected: '已断开',
    },
    
    // Stages
    stages: {
      foundation: '基础阶段',
      differentiation: '差异化阶段',
      approach: '方法阶段',
      completed: '已完成',
      nextStage: '下一阶段',
      saveProgress: '保存进度',
    },
    
    // Foundation Stage
    foundation: {
      title: '基础阶段',
      subtitle: '明确基础要素',
      customers: '目标客户',
      customersDesc: '谁会使用你的产品？',
      problems: '要解决的问题',
      problemsDesc: '你要解决什么问题？',
      competition: '竞争对手',
      competitionDesc: '谁是你的竞争对手？',
      advantages: '独特优势',
      advantagesDesc: '你的独特优势是什么？',
      addCustomer: '添加客户',
      addProblem: '添加问题',
      addCompetitor: '添加竞争对手',
      addAdvantage: '添加优势',
    },
    
    // Differentiation Stage
    differentiation: {
      title: '差异化阶段',
      subtitle: '找到差异化定位',
      factors: '差异化因素',
      matrix: '定位矩阵',
      principles: '设计原则',
      classicFactors: '经典因素',
      customFactors: '自定义因素',
      addFactor: '添加因素',
      addPrinciple: '添加原则',
      xAxis: 'X轴',
      yAxis: 'Y轴',
      selectFactors: '选择因素',
    },
    
    // Approach Stage
    approach: {
      title: '方法阶段',
      subtitle: '确定执行路径',
      magicLenses: '魔法透镜',
      paths: '可能路径',
      selectedPath: '选定路径',
      reasoning: '选择理由',
      addLens: '添加透镜',
      addPath: '添加路径',
      selectPath: '选择路径',
    },
    
    // AI Agents
    ai: {
      assistant: 'AI 助手',
      closeAssistant: '关闭助手',
      thinkAgent: '帮我想',
      thinkDesc: '补充思考',
      thinkLongDesc: '智能提问，补充思考维度，提供创意激发和案例推荐',
      critiqueAgent: '批判我',
      critiqueDesc: '批判分析',
      critiqueLongDesc: '挑战隐含假设，评估市场现实性，分析竞争威胁和执行难度',
      researchAgent: '查一查',
      researchDesc: '深度研究',
      researchLongDesc: '深度收集市场数据、竞品分析、技术可行性和用户洞察',
      selectAgent: '选择一个AI助手',
      startConversation: '从上方选择一个助手开始对话',
      inputPlaceholder: '输入您的问题...',
      send: '发送',
      thinking: '思考中...',
    },
    
    // Export
    export: {
      title: '导出报告',
      pdf: '导出 PDF',
      json: '导出 JSON',
      generating: '生成中...',
      foundationReport: 'Foundation Sprint 报告',
      hypothesis: '创始假设',
    },
  },
  
  en: {
    // Common
    common: {
      save: 'Save',
      cancel: 'Cancel',
      confirm: 'Confirm',
      edit: 'Edit',
      delete: 'Delete',
      add: 'Add',
      next: 'Next',
      previous: 'Previous',
      loading: 'Loading...',
      error: 'Error',
      success: 'Success',
      close: 'Close',
    },
    
    // Room
    room: {
      title: 'Foundation Sprint',
      subtitle: 'Find consensus in 10 hours',
      createRoom: 'Create Room',
      joinRoom: 'Join Room',
      roomName: 'Room Name',
      userName: 'Your Name',
      roomCode: 'Room Code',
      creating: 'Creating...',
      joining: 'Joining...',
      leaveRoom: 'Leave Room',
      participants: 'Participants',
      connected: 'Connected',
      disconnected: 'Disconnected',
    },
    
    // Stages
    stages: {
      foundation: 'Foundation',
      differentiation: 'Differentiation',
      approach: 'Approach',
      completed: 'Completed',
      nextStage: 'Next Stage',
      saveProgress: 'Save Progress',
    },
    
    // Foundation Stage
    foundation: {
      title: 'Foundation Stage',
      subtitle: 'Define core elements',
      customers: 'Target Customers',
      customersDesc: 'Who will use your product?',
      problems: 'Problems to Solve',
      problemsDesc: 'What problems are you solving?',
      competition: 'Competition',
      competitionDesc: 'Who are your competitors?',
      advantages: 'Unique Advantages',
      advantagesDesc: 'What are your unique advantages?',
      addCustomer: 'Add Customer',
      addProblem: 'Add Problem',
      addCompetitor: 'Add Competitor',
      addAdvantage: 'Add Advantage',
    },
    
    // Differentiation Stage
    differentiation: {
      title: 'Differentiation Stage',
      subtitle: 'Find your positioning',
      factors: 'Differentiation Factors',
      matrix: 'Positioning Matrix',
      principles: 'Design Principles',
      classicFactors: 'Classic Factors',
      customFactors: 'Custom Factors',
      addFactor: 'Add Factor',
      addPrinciple: 'Add Principle',
      xAxis: 'X Axis',
      yAxis: 'Y Axis',
      selectFactors: 'Select Factors',
    },
    
    // Approach Stage
    approach: {
      title: 'Approach Stage',
      subtitle: 'Define execution path',
      magicLenses: 'Magic Lenses',
      paths: 'Possible Paths',
      selectedPath: 'Selected Path',
      reasoning: 'Reasoning',
      addLens: 'Add Lens',
      addPath: 'Add Path',
      selectPath: 'Select Path',
    },
    
    // AI Agents
    ai: {
      assistant: 'AI Assistant',
      closeAssistant: 'Close Assistant',
      thinkAgent: 'Help Me Think',
      thinkDesc: 'Expand Thinking',
      thinkLongDesc: 'Smart questions, new perspectives, creative inspiration and case studies',
      critiqueAgent: 'Challenge Me',
      critiqueDesc: 'Critical Analysis',
      critiqueLongDesc: 'Challenge assumptions, assess market reality, analyze competition and execution risks',
      researchAgent: 'Research',
      researchDesc: 'Deep Research',
      researchLongDesc: 'Market data, competitor analysis, technical feasibility and user insights',
      selectAgent: 'Select an AI Assistant',
      startConversation: 'Choose an assistant above to start',
      inputPlaceholder: 'Enter your question...',
      send: 'Send',
      thinking: 'Thinking...',
    },
    
    // Export
    export: {
      title: 'Export Report',
      pdf: 'Export PDF',
      json: 'Export JSON',
      generating: 'Generating...',
      foundationReport: 'Foundation Sprint Report',
      hypothesis: 'Founding Hypothesis',
    },
  },
}

export type Language = keyof typeof translations
export type TranslationKey = string

export function getTranslation(lang: Language, key: string): string {
  const keys = key.split('.')
  let current: any = translations[lang]
  
  for (const k of keys) {
    if (current && typeof current === 'object' && k in current) {
      current = current[k]
    } else {
      // Fallback to Chinese if translation not found
      current = translations.zh
      for (const fallbackKey of keys) {
        if (current && typeof current === 'object' && fallbackKey in current) {
          current = current[fallbackKey]
        } else {
          return key // Return the key itself if no translation found
        }
      }
      break
    }
  }
  
  return typeof current === 'string' ? current : key
}